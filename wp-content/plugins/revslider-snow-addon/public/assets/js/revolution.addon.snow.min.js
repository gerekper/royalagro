/**
 * @preserve
 * @author    ThemePunch <info@themepunch.com>
 * @link      http://www.themepunch.com/
 * @copyright 2016 ThemePunch
 * @version   2.0.1
 */
var RsSnowAddOn=function(e,a){if(a){var s=!(!e.fn.revolution||!e.fn.revolution[a[0].id])&&e.fn.revolution[a[0].id];if(s){var n=document.createElement("style");n.innerHTML=".snowflakes_wrapper {pointer-events: none} .snowflakes_wrapper_inner {position: absolute !important}",document.getElementsByTagName("head")[0].appendChild(n);var t=a.find("rs-static-layers");if(t.length)t.addClass("rs-snow-container");else{var r=document.createElement("rs-static-layers");r.className="rs-snow-container",r.setAttribute("data-key","staticlayers"),a[0].appendChild(r)}var i,l,o=s.snow,c=o.startSlide,w=o.endSlide;o={selector:".rs-snow-container",dimension:"self",particleMaxPer:parseInt(o.maxNum,10),particlaSize:[parseFloat(o.minSize),parseFloat(o.maxSize)],particleOpacity:[parseFloat(o.minOpacity),parseFloat(o.maxOpacity)],particleSpeed:[parseInt(o.minSpeed,10),parseInt(o.maxSpeed,10)],particleSinus:[parseInt(o.minSinus,10),parseInt(o.maxSinus,10)]},a.on("revolution.slide.onchange",(function(e,s){var n=s.slideIndex;"first"===c&&(c=1),"last"===w&&(w=a.revmaxslide()),n>=c&&n<=w?(l?i||a.letItSnow("winter"):(a.letItSnow(o),l=!0),i=!0):l&&(a.letItSnow("summer"),i=!1)}))}}};!function(e,a){"use strict";function s(e){e.snowflakes=[];for(var a=e.w*e.h/15e5;e.snowflakes.length<e.particleMaxPer*a;)e.snowflakes.push(t(e))}function n(e){window.requestAnimationFrame((function(){!function(e){if(e==a||e.ctx==a||1==e.destroyed||1==e.pause)return!1;e.ctx.clearRect(0,0,2700,2500);var s=e.h/3,r=e.h/3*2;for(var i in e.snowflakes)if(e.snowflakes[i].y+.1*e.snowflakes[i].r<0&&1==e.summer||e.snowflakes[i].y>e.h+e.snowflakes[i].r&&1==e.summer);else{e.snowflakes[i].delta+=e.snowflakes[i].delta==Math.PI/2?-e.snowflakes[i].delta:Math.random()/500-.01,e.summer?e.snowflakes[i].y+=e.snowflakes[i].speed/50+.1*e.snowflakes[i].r:e.snowflakes[i].y+=e.snowflakes[i].speed/100+.1*e.snowflakes[i].r,e.snowflakes[i].x+=Math.sin(e.snowflakes[i].delta)*(.1*e.snowflakes[i].r),e.snowflakes[i].y>e.h+e.snowflakes[i].r&&1!=e.summer&&(e.snowflakes[i]=t(e),e.snowflakes[i].y=0-e.snowflakes[i].r);var l=e.snowflakes[i].y-s,o=e.snowflakes[i].r,c=e.snowflakes[i].alpha;if(l>0||1==e.summer){var w=1-l/r;o=e.snowflakes[i].r*w,c=e.snowflakes[i].alpha*w}o=.1>o?.1:o,c=.1>c?.1:c,e.snowflakes[i].x=e.snowflakes[i].x>e.w+e.snowflakes[i].r?0:e.snowflakes[i].x<-o?e.w:e.snowflakes[i].x,e.ctx.beginPath(),e.ctx.arc(e.snowflakes[i].x,e.snowflakes[i].y,o,2*Math.PI,!1),e.ctx.fillStyle="rgba(255,255,255,"+c+")",e.ctx.fill()}n(e)}(e)}))}function t(e){var a=new Object;return a.delta=(e.particleSinus[0]+Math.random()*(e.particleSinus[1]-e.particleSinus[0]))*Math.round(2*Math.random()-1),a.r=e.particlaSize[0]+Math.random()*(e.particlaSize[1]-e.particlaSize[0]),a.alpha=e.particleOpacity[0]+Math.random()*(e.particleOpacity[1]-e.particleOpacity[0]),a.speed=(e.particleSpeed[0]+Math.random()*(e.particleSpeed[1]-e.particleSpeed[0]))*a.r/3,a.x=Math.random()*e.w,a.y=Math.random()*-e.h,a}e.fn.extend({letItSnow:function(t){return"destroy"!=t&&"stop"!=t&&"play"!=t&&"summer"!=t&&"winter"!=t&&(t=e.extend(!0,{},{particleMaxPer:400,particlaSize:[.2,6],particleOpacity:[.3,1],particleSpeed:[30,100],particleSinus:[1,100]},t)),this.each((function(){if(-1!=e.inArray(t,["destroy","stop","play","winter","summer"])){switch(t){case"destroy":(t=e(this).data("snowflakes"))!=a&&function(e){e.pause=!0,e.sc.find(".snowflakes_wrapper").remove(),e.c.removeData("snowflakes"),e={}}(t);break;case"stop":(t=e(this).data("snowflakes"))!=a&&(t.pause=!0);break;case"play":(t=e(this).data("snowflakes"))!=a&&(t.pause=!1,n(t));break;case"summer":(t=e(this).data("snowflakes"))!=a&&(t.summer=!0);break;case"winter":(t=e(this).data("snowflakes"))!=a&&(t.summer=!1)}return!1}return t.c=e(this),t.sc=t.selector!=a?e(this).find(t.selector):t.c,0!=t.sc.length&&(t.c.data("snowflakes")==a&&(t.sc.find(".snowflakes_wrapper").remove(),t.sc.append('<div class="snowflakes_wrapper" style="position:relative;z-index:0"><div class="snowflakes_wrapper_inner" style="overflow:hidden;position:relative"><canvas width="2700" height="2500" style="position:relative;" class="snowflake_canvas"></canvas></div></div>'),t.sw=t.sc.find(".snowflakes_wrapper_inner"),t.sw.data("caller_container",t.c),t.canvas=t.sc.find(".snowflake_canvas"),t.dimension!=self?t.sizer=t.c:t.sizer=t.sc,t.w=t.sizer.width(),t.h=t.sizer.height(),t.sc.find(".snowflakes_wrapper_inner").css({width:t.w,height:t.h}),t.canvas=t.canvas[0],t.snowflakes=[],t.ctx=t.canvas.getContext("2d"),s(t),n(t),t.c.data("snowflakes",t),void e(window).on("resize",(function(){clearTimeout(t.timer),t.timer=setTimeout((function(){t.w=t.sizer.width(),t.h=t.sizer.height(),t.sc.find(".snowflakes_wrapper_inner").css({width:t.w,height:t.h}),s(t)}),50)}))))}))}})}(jQuery);