/**
 * @preserve
 * @author    ThemePunch <info@themepunch.com>
 * @link      http://www.themepunch.com/
 * @copyright 2018 ThemePunch
 * @version 3.0.2
 */
!function(){"use strict";var t,e;function i(t,e){this.slider=t,this.carousel=e,t.one("revolution.slide.onloaded",this.onLoaded.bind(this)).one("rsBubbleMorphDestroyed",this.destroy.bind(this))}function s(){var e=t(this),i=e.data("bubbleaddon");i&&(i.destroy(),e.removeData("bubbleaddon"))}function r(t,e){if(!t)return!1;if(0===e)return t[e];for(var i=e,s=t[e];"inherit"===s;)s=--i>-1?t[i]:t[0];return s}function h(t){var i,s,r,h=t.levels,a=h.length,n=e.width(),l=0;if(h)for(var o=0;o<a;o++)s!==(r=h[o])&&(n<r&&(l=o),s=r);var d=t.layerW[l],u=t.layerH[l],b="100%"===u||"full"===u;if("100%"===d||"full"===d){var c=!t.carousel||t.isStatic?t.slider:t.slotholder;t.fullAlign?(d=c.width(),t.wrapper[0].style.left=0):(i=Math.min(t.slider.width()/t.grids[l],1),d=t.grids[l]*i)}else d=parseInt(t.layr.css("width"),10);return b?(u=t.isStatic?t.slider.height():t.slotholder.height(),t.wrapper[0].style.top=0):u=parseInt(t.layr.css("height"),10),{width:d,height:u,level:l}}function a(){var e=t(this),i=e.data("bubbleObj"),a=!1,l=e.data("bubbleaddon");if(i&&(9999===i.slideIndex&&parseInt(e.data("bubbleIndex"),0)>=parseInt(e.data("startslide"),0)&&parseInt(e.data("bubbleIndex"),0)<=parseInt(e.data("endslide"),0)&&(a=!0),e.data("bubbleIndex")==i.slideIndex||!0===a)){l&&s.call(this);var o=h(i),d=o.level,b=r(i.blurStrength,d),c=r(i.borderSize,d),p=r(i.borderColor,d),f=r(i.blurColor,d),g=r(i.blurX,d),v=r(i.blurY,d),w=r(i.bufferX,d),y=r(i.bufferY,d),m=r(i.numBubbles,d),x=r(i.velX,d),M=r(i.velY,d),S=function(t,e,i,s,r,h,a,n,l,o,d,b,c,p,f,g,v){var w,y={screen:{elem:null,callback:null,ctx:null,width:0,height:0,left:0,top:0,init:function(t,e){return this.elem=s,this.callback=t||null,"CANVAS"==this.elem.tagName&&(this.ctx=this.elem.getContext("2d")),this.elem.onselectstart=function(){return!1},this.elem.ondrag=function(){return!1},e&&this.resize(),this},resize:function(){var i=this.elem;for(this.width=t,this.height=e,this.left=0,this.top=0;null!=i;i=i.offsetParent)this.left+=i.offsetLeft,this.top+=i.offsetTop;this.ctx&&(this.elem.width=this.width,this.elem.height=this.height),w&&(w.width=this.width,w.height=this.height),this.callback&&this.callback()},destroy:function(){for(var t in this)this.hasOwnProperty(t)&&delete this[t]}}},m=function(t,e){this.x=t,this.y=e,this.magnitude=t*t+e*e,this.computed=0,this.force=0};m.prototype.add=function(t){return new m(this.x+t.x,this.y+t.y)};var x=function(t){var e=.1,i=1.5;this.vel=new m((Math.random()>.5?1:-1)*(.2+Math.random()*f),(Math.random()>.5?1:-1)*(.2+Math.random()*g)),this.pos=new m(.2*t.width+Math.random()*t.width*.6,.2*t.height+Math.random()*t.height*.6),this.size=t.wh/Math.min(30,15/v)+(Math.random()*(i-e)+e)*(t.wh/Math.min(30,15/v)),this.width=t.width,this.height=t.height};x.prototype.move=function(){this.pos.x>=this.width-this.size-c?(this.vel.x>0&&(this.vel.x=-this.vel.x),this.pos.x=this.width-this.size-c):this.pos.x<=this.size+c&&(this.vel.x<0&&(this.vel.x=-this.vel.x),this.pos.x=this.size+c),this.pos.y>=this.height-this.size-p?(this.vel.y>0&&(this.vel.y=-this.vel.y),this.pos.y=this.height-this.size-p):this.pos.y<=this.size+p&&(this.vel.y<0&&(this.vel.y=-this.vel.y),this.pos.y=this.size+p),this.pos=this.pos.add(this.vel)};var M=function(t,e,i,s){this.step=5,this.width=t,this.height=e,this.wh=Math.min(t,e),this.sx=Math.floor(this.width/this.step),this.sy=Math.floor(this.height/this.step),this.paint=!1,this.metaFill=S(t,e,s),this.plx=[0,0,1,0,1,1,1,1,1,1,0,1,0,0,0,0],this.ply=[0,0,0,0,0,0,1,0,0,1,1,1,0,1,0,1],this.mscases=[0,3,0,3,1,3,0,3,2,2,0,2,1,1,0],this.ix=[1,0,-1,0,0,1,0,-1,-1,0,1,0,0,1,1,0,0,0,1,1],this.grid=[],this.balls=[],this.iter=0,this.sign=1;for(var r=0;r<(this.sx+2)*(this.sy+2);r++)this.grid[r]=new m(r%(this.sx+2)*this.step,Math.floor(r/(this.sx+2))*this.step);for(var h=0;h<i;h++)this.balls[h]=new x(this)};M.prototype.destroy=function(){var t;for(t in this.balls)this.balls.hasOwnProperty(t)&&delete this.balls[t];for(t in this)this.hasOwnProperty(t)&&delete this[t]},M.prototype.computeForce=function(t,e,i){var s,r=i||t+e*(this.sx+2);if(0===t||0===e||t===this.sx||e===this.sy)s=.6*this.sign;else{s=0;var h=this.grid[r];if(!h)return;for(var a,n=0;a=this.balls[n++];)s+=a.size*a.size/(-2*h.x*a.pos.x-2*h.y*a.pos.y+a.pos.magnitude+h.magnitude);s*=this.sign}if(this.grid[r])return this.grid[r].force=s,s},M.prototype.marchingSquares=function(t){var e=t[0],i=t[1],s=t[2],r=e+i*(this.sx+2);if(this.grid[r]){if(this.grid[r].computed===this.iter)return!1;for(var h,a,n=0,l=0;l<4;l++){var o=e+this.ix[l+12]+(i+this.ix[l+16])*(this.sx+2);if(!this.grid[o]){a=!0;break}var d=this.grid[o].force;(d>0&&this.sign<0||d<0&&this.sign>0||!d)&&(d=this.computeForce(e+this.ix[l+12],i+this.ix[l+16],o)),Math.abs(d)>1&&(n+=Math.pow(2,l))}if(!a){if(15===n)return[e,i-1,!1];if(5===n)h=2===s?3:1;else if(10===n)h=3===s?0:2;else{if(h=this.mscases[n],!this.grid[r])return;this.grid[r].computed=this.iter}var u=this.step/(Math.abs(Math.abs(this.grid[e+this.plx[4*h+2]+(i+this.ply[4*h+2])*(this.sx+2)].force)-1)/Math.abs(Math.abs(this.grid[e+this.plx[4*h+3]+(i+this.ply[4*h+3])*(this.sx+2)].force)-1)+1);return O.lineTo(this.grid[e+this.plx[4*h]+(i+this.ply[4*h])*(this.sx+2)].x+this.ix[h]*u,this.grid[e+this.plx[4*h+1]+(i+this.ply[4*h+1])*(this.sx+2)].y+this.ix[h+4]*u),this.paint=!0,[e+this.ix[h+4],i+this.ix[h+8],h]}}},M.prototype.renderMetaballs=function(){for(var t,e=0;t=this.balls[e++];)t.move();for(this.iter++,this.sign=-this.sign,this.paint=!1,O.fillStyle=this.metaFill,a&&(O.shadowBlur=a,O.shadowColor=n,O.shadowOffsetX=l,O.shadowOffsetY=o),b&&(O.strokeStyle=d,O.lineWidth=b),O.beginPath(),e=0;t=this.balls[e++];){var i=[Math.round(t.pos.x/this.step),Math.round(t.pos.y/this.step),!1];do{i=this.marchingSquares(i)}while(i);this.paint&&(O.fill(),O.closePath(),b&&O.stroke(),O.beginPath(),this.paint=!1)}};var S=function(t,e,i){return i[1]?"radial"===(i=i[0]).type?function(t,e,i,s){e*=.5,i*=.5;for(var r,h=t.createRadialGradient(e,i,0,e,i,e),a=s.length,n=0;n<a;n++)r=s[n],h.addColorStop(.01*r.position,u(r.r,r.g,r.b,r.a));return h}(O,t,e,i.colors):function(t,e,i,s,r){var h,a=0,n=0,l=0,o=0;if(r=parseInt(r,10),/^0$|^90$|^180$|^270$|^360$/.test(r))switch(r){case 0:case 360:n=i;break;case 90:l=e;break;case 180:o=i;break;case 270:a=e}else{e*=.5,i*=.5;var d=(r-180)*(Math.PI/180),b=i/Math.cos(d),c=e-Math.sqrt(b*b-i*i);h=b+Math.sin(d)*c,a=e+Math.cos(-Math.PI/2+d)*h,n=i+Math.sin(-Math.PI/2+d)*h,l=e+Math.cos(Math.PI/2+d)*h,o=i+Math.sin(Math.PI/2+d)*h}var p,f,g=t.createLinearGradient(Math.round(a),Math.round(n),Math.round(l),Math.round(o));h=s.length;for(var v=0;v<h;v++)p=s[v],f=parseInt(p.position,10),g.addColorStop(.01*f,u(p.r,p.g,p.b,p.a));return g}(O,t,e,i.colors,i.angle):i[0]},I=function(){A&&!A.paused&&(O.clearRect(0,0,F.width,F.height),w.renderMetaballs(),requestAnimationFrame(I))},F=y.screen.init(null,!0),O=F.ctx,z=function(){w&&w.destroy(),w=new M(F.width,F.height,r,h)};function P(){A.paused=!0,cancelAnimationFrame(I),O.clearRect(0,0,F.width,F.height),w&&w.destroy(),F.destroy(),w=null,y=null,m=null,x=null,M=null,I=null,F=null,A=null,z=null,S=null,O=null}var A={play:I,paused:!0,screen:F,inited:z,started:!1,destroy:P,height:e,width:t};return A}(o.width,o.height,i.slider,i.canvas,parseInt(m,10),i.color,parseInt(b,10),f,parseInt(g,10),parseInt(v,10),p,parseInt(c,10),parseInt(w,10),parseInt(y,10),parseFloat(x),parseFloat(M),i.opt.bw);e.data("bubbleaddon",S),e.data("bubblesplaying")&&n(S,e)}}function n(t,e){t.paused=!1,t.screen.resize(),t.started||(t.started=!0,t.inited()),e.data("bubblesplaying",!0),t.play()}function l(t,e){t.paused=!0,e.data("bubblesplaying",!1)}function o(t){for(var e,i=t.colors,s=i.length,r=[],h=0;h<s;h++){var a=i[h];delete a.align,e?JSON.stringify(a)!==JSON.stringify(e)&&(r[r.length]=a):r[r.length]=a,e=a}return t.colors=r,t}function d(t){if("object"==typeof t)return[t=o(t),!0];if("transparent"===t.trim())return["#FFFFFF",!1];if(-1===t.search(/\[\{/))return-1!==t.search("#")?[t,!1]:-1!==t.search("rgba")?[t.replace(/\s/g,"").replace(/false/g,"1"),!1]:-1!==t.search("rgb")?[t.replace(/\s/g,""),!1]:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)?[t,!1]:["#FFFFFF",!1];try{return[t=o(t=JSON.parse(t.replace(/\&/g,'"'))),!0]}catch(t){return["#FFFFFF",!1]}}function u(t,e,i,s){return"rgba("+t+", "+e+", "+i+", "+s+")"}window.BubbleMorphAddOn=function(s,r,h){if(s&&r)return e=(t=s)(window),t.event.special.rsBubbleMorphDestroyed={remove:function(t){t.handler()}},new i(r,h)},i.prototype={onLoaded:function(){var e,i=this.slider,s=this.carousel,r=!(!t.fn.revolution||!t.fn.revolution[i[0].id])&&t.fn.revolution[i[0].id];if(r){this.revObj=r;var h=r.gridwidth,a=r.responsiveLevels;for(Array.isArray(h)||(h=[h]);h.length<4;)h[h.length]=h[h.length-1];for(e=0;e<4;e++)h[e]=parseInt(h[e],10);if(a){for(Array.isArray(a)||(a=[a]);a.length<4;)a[a.length]=a[a.length-1];for(e=0;e<4;e++)a[e]=parseInt(a[e],10)}this.morph=i.find(".tp-bubblemorph").each((function(){var e=t(this),n=e.attr("data-bubblemorph");try{n=JSON.parse(n)}catch(t){return}var l=t("<canvas />").appendTo(e),o=n.num,u=n.speedx,b=n.speedy,c=n.bufferx,p=n.buffery,f=e.attr("data-dim");if(f){for(var g=!1,v=!1,w=(f=f.split(";")).length,y=0;y<w&&("w"===f[y].charAt(0).toLowerCase()?g=f[y].replace("w:","").split(","):"h"===f[y].charAt(0).toLowerCase()&&(v=f[y].replace("h:","").split(",")),!1===g||!1===v);y++);if(!1!==g&&!1!==v){for(;g.length<4;)g[g.length]=g[g.length-1];for(;v.length<4;)v[v.length]=v[v.length-1];for(;v.length<g.length;)v[v.length]=v[v.length-1];for(;g.length<v.length;)v[g.length]=g[g.length-1];o=o.split("|"),c=c.split("|"),p=p.split("|"),u=u.split("|"),b=b.split("|");var m=e.hasClass("rs-layer-static")?e.closest("rs-static-layers"):e.closest("rs-slide"),x={opt:r,velX:u,velY:b,layr:e,grids:h,layerW:g,layerH:v,slider:i,levels:a,bufferX:c,bufferY:p,canvas:l[0],carousel:s,numBubbles:o,wrapper:e.closest("rs-layer-wrap"),isStatic:e.hasClass("rs-layer-static"),color:d(n.bg),fullAlign:"slide"===this.getAttribute("data-basealign"),slotholder:m.find("rs-sbg-wrap"),slideIndex:e.hasClass("rs-layer-static")?9999:parseInt(m.attr("data-originalindex"),10)},M=n.blur;M&&(x.blurStrength=M.split("|"),x.blurColor=n.blurcolor.split("|"),x.blurX=n.blurx.split("|"),x.blurY=n.blury.split("|"));var S=n.bordersize;S&&(x.borderSize=S.split("|"),x.borderColor=n.bordercolor.split("|")),e.data("bubbleObj",x)}}})),this.morph.length?(void 0!==this.revObj.onBeforeSwap&&this.beforeChange.call(this,null,this.revObj.onBeforeSwap),i.on("leftviewport",this.leftViewport.bind(this)).on("enterviewport",this.enterViewport.bind(this)).on("revolution.slide.onbeforeswap",this.beforeChange.bind(this)).on("revolution.slide.onafterswap",this.afterSwap.bind(this)).on("revolution.slide.afterdraw",this.onResize.bind(this)).on("revolution.slideprepared",this.slidePrepared.bind(this))):this.destroy()}},slidePrepared:function(t,e){this.waitingForSlidePrepare&&this.beforeChange.call(this,null,this.revObj.onBeforeSwap)},beforeChange:function(t,e){this.waitingForSlidePrepare=!1,(this.revObj.slidePresets&&this.revObj.slidePresets[e.nextSlideLIIndex]||(this.waitingForSlidePrepare=!0,this.carousel))&&(this.slider.find(".tp-bubblemorph").data("bubbleIndex",parseInt(e.nextSlideIndex,10)),this.carousel?this.slider.on("revolution.slide.layeraction",this.layerAction.bind(this)):this.slider.one("revolution.slide.layeraction",this.layerAction.bind(this)))},afterSwap:function(e,i){var s=i.slideIndex-1;this.slider[0].activeBubbleIndex=s,this.slider.find("rs-slide").each((function(e,i){t(i).find(".tp-bubblemorph").each((function(){if(e!==s){this.bubbleSlideIndex=e;var i=t(this),r=i.data("bubbleaddon");r&&l(r,i)}}))}))},enterViewport:function(){var e=this.slider[0].activeBubbleIndex;this.slider.find(".tp-bubblemorph").each((function(){var i=t(this),s=i.data("bubbleaddon");s&&s.paused&&(void 0===this.bubbleSlideIndex||this.bubbleSlideIndex===e)&&n(s,i)}))},leftViewport:function(e){this.slider.find(".tp-bubblemorph").each((function(){var e=t(this),i=e.data("bubbleaddon");i&&l(i,e)}))},createBubbles:function(){this.morph.each(a)},onResize:function(t){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.resize.bind(this),250)},resize:function(){this.morph.each((function(){var e=t(this);e.data("bubbleaddon")&&(s.call(e),a.call(e))}))},layerAction:function(e){var i=this;this.slider.find(".tp-bubblemorph").each((function(){var e=t(this),s=e.data("bubbleaddon");if(s||a.call(e),s=e.data("bubbleaddon")){if(s.screen&&s.screen.width&&s.screen.height||(a.call(e),s=e.data("bubbleaddon")),i.carousel){var r=h(e.data("bubbleObj"));r.width===s.width&&r.height===s.height||a.call(e)}s.paused&&s.screen&&s.screen.resize&&n(s,e)}}))},checkRemoved:function(){return(!this.slider||!document.body.contains(this.slider[0]))&&(this.destroy(),!0)},destroy:function(){for(var e in this.slider.find(".tp-bubblemorph").each((function(){var e=t(this);e.data("bubbleaddon").paused=!0,e.removeData("bubbleaddon bubbleObj")})),this)this.hasOwnProperty(e)&&delete this[e]}},window.RS_MODULES=window.RS_MODULES||{},window.RS_MODULES.bubblemorph={loaded:!0,version:"3.0.2"},window.RS_MODULES.checkMinimal&&window.RS_MODULES.checkMinimal()}();