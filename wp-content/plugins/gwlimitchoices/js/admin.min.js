!function(c){window.GPLCAdmin={addRuleFieldAfter:function(i,t,e){var l;return c.each(e,function(i,e){if(t==e.label)return l=i,!1}),e.splice(l+1,0,i),e},addLimitChoiceInputs:function(){jQuery("ul#field_choices li").each(function(i){var e=void 0!==field.choices[i].limit?field.choices[i].limit:"";0<jQuery(this).find("input.field-choice-limit").length||(jQuery(this).find("input.field-choice-input:last").after('<input type="text" class="field-choice-input field-choice-limit gform-input" value="'+e+'" onkeyup="GPLCAdmin.setChoiceLimit('+i+', this.value)" />'),jQuery(this).find("img.add_field_choice").attr("onclick",jQuery(this).find("img.add_field_choice").attr("onclick")+" GPLCAdmin.addLimitChoiceInputs();"),jQuery(this).find("img.delete_field_choice").attr("onclick",jQuery(this).find("img.delete_field_choice").attr("onclick")+" GPLCAdmin.addLimitChoiceInputs();"))})},setChoiceLimit:function(i,e){field.choices[i].limit=e},addEnableLimitsCheckbox:function(){jQuery("#field_choice_limits_enabled").length<1&&jQuery("li.gw-limit-choice.field_setting").children("div:first-child").after(GPLCAdminData.enableCheckbox),jQuery("#field_choice_limits_enabled").prop("checked",1==field.gwlimitchoices_enableLimits),GPLCAdmin.toggleEnableLimits()},removeEnableLimitsCheckbox:function(){jQuery("#field_choice_limits_enabled").parent("div").remove()},toggleEnableLimits:function(){jQuery("#field_choice_limits_enabled").prop("checked")?jQuery("li.gw-limit-choice.field_setting").addClass("limits-enabled"):jQuery("li.gw-limit-choice.field_setting").removeClass("limits-enabled")}},gform.addFilter("gform_conditional_logic_fields",function(l,i,e){return jQuery.each(i.fields,function(i,e){var t=-1==c.inArray(GetInputType(e),["checkbox","multiselect"]);e.gwlimitchoices_enableLimits&&t&&GPLCAdmin.addRuleFieldAfter({label:"(Remaining) "+e.label,value:"gplc_count_remaining_"+e.id},e.label,l)}),l}),c(document).bind("gform_load_field_settings",function(i,e){if(-1==c.inArray(e.type,GPLCAdminData.allowedFieldTypes)&&-1==c.inArray(e.inputType,GPLCAdminData.allowedFieldTypes))return c("li.choices_setting").removeClass("gw-limit-choice"),void GPLCAdmin.removeEnableLimitsCheckbox();c("li.choices_setting").addClass("gw-limit-choice"),c(".gfield_choice_header_limit").length||c(".gfield_choice_header_price").after('<label class="gfield_choice_header_limit">Limit</label>'),GPLCAdmin.addEnableLimitsCheckbox(e),GPLCAdmin.addLimitChoiceInputs(),GPLCAdmin.limitChoicesSetup||(c("#field_choices").bind("sortupdate",function(){setTimeout("GPLCAdmin.addLimitChoiceInputs()",1)}),c(document).on("gform_load_field_choices",function(){GPLCAdmin.addLimitChoiceInputs()})),GPLCAdmin.limitChoicesSetup=!0,GPLCAdmin.limitChoicesSetup=!1})}(jQuery);
//# sourceMappingURL=admin.js.map