(function(c){window.pt_plus_label_copy="Copy";window.pt_plus_label_copy_plus="Copy+";window.pt_plus_label_cut="Cut";window.pt_plus_label_cut_plus="Cut+";window.pt_plus_label_paste="Paste";c(document).on("mouseover","#visual_composer_content",function(){c(".wpb_vc_section > div.controls_row").on("mouseenter",function(t){if(c(this).find(".pt_plus_clipboard").length==0){window.pt_plus_cb_count=localStorage.getItem("pt_plus_cb_count");if(window.pt_plus_cb_count===null)window.pt_plus_cb_count=0;var o='<div class="pt_plus_clipboard" style="font-size:13px !important;"><span class="pt_plus_copy" title="Copy this section">'+window.pt_plus_label_copy+'</span> | <span class="pt_plus_copy_plus" title="Copy to clipboard stack">'+window.pt_plus_label_copy_plus+"</span> | ";if(!localStorage.getItem("pt_plus_prefs_cut")||localStorage.getItem("pt_plus_prefs_cut")==0){o+='<span class="pt_plus_cut" title="Cut this section">'+window.pt_plus_label_cut+'</span> | <span class="pt_plus_cut_plus" title="Move to clipboard stack">'+window.pt_plus_label_cut_plus+"</span> | "}
o+='<span class="pt_plus_paste" title="Paste inside/after this section">'+window.pt_plus_label_paste+'</span> | <span class="pt_plus_number_reset" title="Click to clear clipboard">'+window.pt_plus_cb_count+"</span></div>";c(this).append(o);h=c(this).height();if(h>22){c("div.pt_plus_clipboard").css("line-height",h+"px")}
e()}});c(".wpb_vc_section > div.controls_row").on("mouseleave",function(){c(this).find(".pt_plus_clipboard").remove()});c("div.controls_row").on("mouseenter",function(t){if(c(this).find(".pt_plus_clipboard").length==0){window.pt_plus_cb_count=localStorage.getItem("pt_plus_cb_count");if(window.pt_plus_cb_count===null)window.pt_plus_cb_count=0;var o='<div class="pt_plus_clipboard" style="font-size:13px !important;"><span class="pt_plus_copy" title="Copy this row">'+window.pt_plus_label_copy+'</span> | <span class="pt_plus_copy_plus" title="Copy to clipboard stack">'+window.pt_plus_label_copy_plus+"</span> | ";if(!localStorage.getItem("pt_plus_prefs_cut")||localStorage.getItem("pt_plus_prefs_cut")==0){o+='<span class="pt_plus_cut" title="Cut this row">'+window.pt_plus_label_cut+'</span> | <span class="pt_plus_cut_plus" title="Move to clipboard stack">'+window.pt_plus_label_cut_plus+"</span> | "}
o+='<span class="pt_plus_paste" title="Paste after this row">'+window.pt_plus_label_paste+'</span> | <span class="pt_plus_number_reset" title="Click to clear clipboard">'+window.pt_plus_cb_count+"</span></div>";c(this).append(o);h=c(this).height();if(h>22){c("div.pt_plus_clipboard").css("line-height",h+"px")}
e()}});c("div.controls_row").on("mouseleave",function(){c(this).find(".pt_plus_clipboard").remove()});c(".wpb_vc_column > .controls:first-child, .wpb_vc_column > .vc_controls:first-child, .wpb_vc_column_inner > .controls:first-child, .wpb_vc_column_inner > .vc_controls:first-child").on("mouseenter",function(){if(c(this).find(".pt_plus_clipboard_col").length==0){window.pt_plus_cb_count=localStorage.getItem("pt_plus_cb_count");if(window.pt_plus_cb_count===null)window.pt_plus_cb_count=0;var t='<span class="pt_plus_clipboard_col"><span class="pt_plus_copy" title="Copy content of this column">'+window.pt_plus_label_copy+"</span> | ";if(!localStorage.getItem("pt_plus_prefs_cut")||localStorage.getItem("pt_plus_prefs_cut")==0){t+='<span class="pt_plus_cut" title="Cut content of this column">'+window.pt_plus_label_cut+"</span> | "}
t+='<span class="pt_plus_paste" title="Paste inside this column">'+window.pt_plus_label_paste+'</span> | <span class="pt_plus_number_reset" title="Click to clear clipboard">'+window.pt_plus_cb_count+"</span></span>";c(this).append(t);h=c(this).height();e()}});c(".wpb_vc_column .controls, .wpb_vc_column .vc_controls, .wpb_vc_column_inner .controls, .wpb_vc_column_inner .vc_controls").on("mouseleave",function(){c(this).find(".pt_plus_clipboard_col").remove()});c("#visual_composer_content").on("mouseenter",".wpb_column_container > div",function(){var t=c(this).find(".vc_controls > div");if(t.find(".pt_plus_copy").length==0&&c(this).closest("div[data-element_type]").attr("data-model-id")!=undefined){window.pt_plus_cb_count=localStorage.getItem("pt_plus_cb_count");if(window.pt_plus_cb_count===null)window.pt_plus_cb_count=0;var o='<span class="vc_element-name pt_plus_clipboard_element_root"><span class="vc_btn-content pt_plus_clipboard_element"><span class="pt_plus_copy" title="Copy this element">C</span> | <span class="pt_plus_copy_plus" title="Copy to clipboard stack">C+</span> | ';if(!localStorage.getItem("pt_plus_prefs_cut")||localStorage.getItem("pt_plus_prefs_cut")==0){o+='<span class="pt_plus_cut" title="Cut this element">X</span> | <span class="pt_plus_cut_plus" title="Move to clipboard stack">X+</span> | '}
o+='<span class="pt_plus_paste" title="Paste after this element">P</span> | <span class="pt_plus_number_reset" title="Click to clear clipboard">'+window.pt_plus_cb_count+"</span></span></span>";t.append(o);e()}});c("#visual_composer_content").on("mouseleave",".wpb_column_container > div",function(){c(this).find(".pt_plus_clipboard_element_root").remove()})});c(document).ready(function(){setTimeout(function(){if(c(".pt_plus_paste_top").length==0){t()}},200)});c(window).load(function(){setTimeout(function(){if(c(".pt_plus_paste_top").length==0){t()}},200)});var e=function(){c(".pt_plus_copy").on("click",function(){if(window.pt_plus_cb_count>1){for(var e=2;e<=window.pt_plus_cb_count;e++){localStorage.removeItem("pt_plus_element_sc"+e);localStorage.removeItem("pt_plus_element_params"+e);localStorage.removeItem("pt_plus_elements"+e)}}
id=c(this).closest("div[data-element_type]").attr("data-model-id");model=window.vc.app.views[id].model;shortcode=model.get("shortcode");window.pt_plus_elements=[];localStorage.setItem("pt_plus_element_sc1",shortcode);localStorage.setItem("pt_plus_element_params1",JSON.stringify(model.get("params")));_.each(window.vc.shortcodes.where({parent_id:model.id}),function(c){n(c,0)});localStorage.setItem("pt_plus_elements1",JSON.stringify(window.pt_plus_elements));localStorage.setItem("pt_plus_cb_count","1");c("span.pt_plus_number_reset").html("1");c(".pt_plus_number_reset_top").html("1");window.pt_plus_cb_count=1});c(".pt_plus_cut").on("click",function(){if(window.pt_plus_cb_count>1){for(var e=2;e<=window.pt_plus_cb_count;e++){localStorage.removeItem("pt_plus_element_sc"+e);localStorage.removeItem("pt_plus_element_params"+e);localStorage.removeItem("pt_plus_elements"+e)}}
id=c(this).closest("div[data-element_type]").attr("data-model-id");model=window.vc.app.views[id].model;shortcode=model.get("shortcode");window.pt_plus_elements=[];localStorage.setItem("pt_plus_element_sc1",shortcode);localStorage.setItem("pt_plus_element_params1",JSON.stringify(model.get("params")));_.each(window.vc.shortcodes.where({parent_id:model.id}),function(c){n(c,0);if(shortcode=="vc_column"||shortcode=="vc_column_inner"){window.vc.app.views[c.attributes.id].model.destroy()}});localStorage.setItem("pt_plus_elements1",JSON.stringify(window.pt_plus_elements));localStorage.setItem("pt_plus_cb_count","1");c("span.pt_plus_number_reset").html("1");c(".pt_plus_number_reset_top").html("1");window.pt_plus_cb_count=1;if(shortcode!="vc_column"&&shortcode!="vc_column_inner"){window.vc.app.views[id].model.destroy()}});c(".pt_plus_copy_plus").on("click",function(){i=parseInt(window.pt_plus_cb_count)+1;id=c(this).closest("div[data-element_type]").attr("data-model-id");model=window.vc.app.views[id].model;shortcode=model.get("shortcode");var e=localStorage.getItem("pt_plus_element_sc1");if(e!==null){if(shortcode=="vc_section"&&e!="vc_section"||shortcode!="vc_section"&&e=="vc_section"||shortcode=="vc_row"&&e!="vc_row"||shortcode!="vc_row"&&e=="vc_row"||shortcode=="vc_row_inner"&&e!="vc_row_inner"||shortcode!="vc_row_inner"&&e=="vc_row_inner"||shortcode=="vc_column"&&e!="vc_column"||shortcode!="vc_column"&&e=="vc_column"||shortcode=="vc_column_inner"&&e!="vc_column_inner"||shortcode!="vc_column_inner"&&e=="vc_column_inner"){alert("Can't mix "+shortcode+" with "+e+"!");return}}
window.pt_plus_elements=[];localStorage.setItem("pt_plus_element_sc"+i,shortcode);localStorage.setItem("pt_plus_element_params"+i,JSON.stringify(model.get("params")));_.each(window.vc.shortcodes.where({parent_id:model.id}),function(c){n(c,0)});localStorage.setItem("pt_plus_elements"+i,JSON.stringify(window.pt_plus_elements));window.pt_plus_cb_count++;localStorage.setItem("pt_plus_cb_count",""+window.pt_plus_cb_count);c("span.pt_plus_number_reset").html(window.pt_plus_cb_count);c(".pt_plus_number_reset_top").html(window.pt_plus_cb_count)});c(".pt_plus_cut_plus").on("click",function(){i=parseInt(window.pt_plus_cb_count)+1;id=c(this).closest("div[data-element_type]").attr("data-model-id");model=window.vc.app.views[id].model;shortcode=model.get("shortcode");var e=localStorage.getItem("pt_plus_element_sc1");if(e!==null){if(shortcode=="vc_row"&&e!="vc_row"||shortcode!="vc_row"&&e=="vc_row"||shortcode=="vc_column"&&e!="vc_column"||shortcode!="vc_column"&&e=="vc_column"){alert("Can't mix "+shortcode+" with "+e+"!");return}}
window.pt_plus_elements=[];localStorage.setItem("pt_plus_element_sc"+i,shortcode);localStorage.setItem("pt_plus_element_params"+i,JSON.stringify(model.get("params")));_.each(window.vc.shortcodes.where({parent_id:model.id}),function(c){n(c,0)});localStorage.setItem("pt_plus_elements"+i,JSON.stringify(window.pt_plus_elements));window.pt_plus_cb_count++;localStorage.setItem("pt_plus_cb_count",""+window.pt_plus_cb_count);c("span.pt_plus_number_reset").html(window.pt_plus_cb_count);c(".pt_plus_number_reset_top").html(window.pt_plus_cb_count);window.vc.app.views[id].model.destroy()});c(".pt_plus_paste").on("click",function(){var e=-1;if(r(this)){window.pt_plus_total_count=0;window.pt_plus_current_count=0;var t=c(this).closest("div[data-element_type]");c("#pt_plus_paste_text").show();setTimeout(function(){for(var o=1;o<=window.pt_plus_cb_count;o++){pt_plus_elements=JSON.parse(localStorage.getItem("pt_plus_elements"+o));window.pt_plus_total_count+=pt_plus_elements.length}
window.pt_plus_total_count=window.pt_plus_total_count+parseInt(window.pt_plus_cb_count);for(var o=1;o<=window.pt_plus_cb_count;o++){e=v(t,o,e)}
c("#pt_plus_paste_text").hide()},100)}});c(".pt_plus_number_reset").on("click",function(){l()})};var t=function(){window.pt_plus_cb_count=localStorage.getItem("pt_plus_cb_count");if(window.pt_plus_cb_count===null)window.pt_plus_cb_count=0;if(c(".composer-switch").length==0&&c("#wpb_visual_composer").length>0&&c("#wpb_visual_composer").is(":visible")){c("#titlediv").after('<div class="composer-switch"></div>')}
c(".composer-switch").append(' <span id="pt_plus_toolbar"><span id="pt_plus_toolbar_paste"><a href="#" class="pt_plus_paste_top" title="Paste">PASTE</a><a href="#" class="pt_plus_number_reset_top" title="Click to clear clipboard">'+window.pt_plus_cb_count+'</a></span>'+'</span><span class="pt_plus_oc_button o"></span><div id="pt_plus_paste_text">Pasting, please wait...</span></div>');if(localStorage.getItem("pt_plus_prefs_short")=="1"&&c("#pt_plus_prefs_short").length>0){c("#pt_plus_prefs_short")[0].checked=!0;window.pt_plus_label_copy="C";window.pt_plus_label_copy_plus="C+";window.pt_plus_label_cut="X";window.pt_plus_label_cut_plus="X+";window.pt_plus_label_paste="P"}
if(localStorage.getItem("pt_plus_prefs_cut")=="1"&&c("#pt_plus_prefs_cut").length>0){c("#pt_plus_prefs_cut")[0].checked=!0}
c("#pt_plus_prefs_short").on("change",function(c){if(this.checked){localStorage.setItem("pt_plus_prefs_short","1");window.pt_plus_label_copy="C";window.pt_plus_label_copy_plus="C+";window.pt_plus_label_cut="X";window.pt_plus_label_cut_plus="X+";window.pt_plus_label_paste="P"}else{localStorage.setItem("pt_plus_prefs_short","0");window.pt_plus_label_copy="Copy";window.pt_plus_label_copy_plus="Copy+";window.pt_plus_label_cut="Cut";window.pt_plus_label_cut_plus="Cut+";window.pt_plus_label_paste="Paste"}});c("#pt_plus_prefs_cut").on("change",function(c){if(this.checked){localStorage.setItem("pt_plus_prefs_cut","1")}else{localStorage.setItem("pt_plus_prefs_cut","0")}});c(".pt_plus_oc_button").on("click",function(e){if(c(this).hasClass("o")){c(this).removeClass("o");c(this).addClass("c");c("#pt_plus_toolbar").hide()}else{c(this).removeClass("c");c(this).addClass("o");c("#pt_plus_toolbar").show()}});c(".pt_plus_paste_top").on("click",function(e){e.preventDefault();var t=-1;if(r(null)){window.pt_plus_total_count=0;window.pt_plus_current_count=0;c("#pt_plus_paste_text").show();setTimeout(function(){for(var e=1;e<=window.pt_plus_cb_count;e++){pt_plus_elements=JSON.parse(localStorage.getItem("pt_plus_elements"+e));window.pt_plus_total_count+=pt_plus_elements.length}
window.pt_plus_total_count=window.pt_plus_total_count+parseInt(window.pt_plus_cb_count);for(var e=1;e<=window.pt_plus_cb_count;e++){t=v(null,e,t)}
c("#pt_plus_paste_text").hide()},100)}});c(".pt_plus_number_reset_top").on("click",function(c){c.preventDefault();l()})};var o=function(){};var a=function(){};var s=function(e){var t=decodeURIComponent(window.atob(e));var o=JSON.parse(t);for(i=1;i<=o.length;i++){localStorage.setItem("pt_plus_element_sc"+i,decodeURIComponent(window.atob(o[i-1].pt_plus_element_sc)));localStorage.setItem("pt_plus_element_params"+i,decodeURIComponent(window.atob(o[i-1].pt_plus_element_params)));localStorage.setItem("pt_plus_elements"+i,decodeURIComponent(window.atob(o[i-1].pt_plus_elements)));window.pt_plus_cb_count=o.length;localStorage.setItem("pt_plus_cb_count",""+window.pt_plus_cb_count);c("span.pt_plus_number_reset").html(window.pt_plus_cb_count);c(".pt_plus_number_reset_top").html(window.pt_plus_cb_count)}};var l=function(){var e=confirm("Clear clipboard?");if(e==!0){if(window.pt_plus_cb_count>0){for(var t=1;t<=window.pt_plus_cb_count;t++){localStorage.removeItem("pt_plus_element_sc"+t);localStorage.removeItem("pt_plus_element_params"+t);localStorage.removeItem("pt_plus_elements"+t)}}
localStorage.setItem("pt_plus_cb_count","0");c("span.pt_plus_number_reset").html("0");c(".pt_plus_number_reset_top").html("0");window.pt_plus_cb_count=0}};var n=function(c,e){pid=c.attributes.parent_id;if(e==0){pid=0}
window.pt_plus_elements.push({sc:c.get("shortcode"),params:JSON.stringify(c.get("params")),parent_id:pid,id:c.id,order:c.get("order")});_.each(window.vc.shortcodes.where({parent_id:c.id}),function(c){n(c,-1)})};var r=function(e){if(e!=null){id_this=c(e).closest("div[data-element_type]").attr("data-model-id");model_this=window.vc.app.views[id_this].model;shortcode_this=model_this.get("shortcode")}else{shortcode_this=""}
sc=localStorage.getItem("pt_plus_element_sc1");if(shortcode_this=="vc_section"&&sc!="vc_section"&&sc!="vc_row"){alert("Can't paste "+sc+" inside/after vc_section!");return!1}else if(shortcode_this=="vc_row"&&sc!="vc_row"){alert("Can't paste "+sc+" after vc_row!");return!1}else if(shortcode_this=="vc_row_inner"&&sc!="vc_row_inner"){alert("Can't paste "+sc+" after vc_row_inner!");return!1}else if((shortcode_this=="vc_column"||shortcode_this=="vc_column_inner")&&(sc=="vc_section"||sc=="vc_row")){alert("Can't paste "+sc+" inside "+shortcode_this+"!");return!1}else if(shortcode_this==""&&sc=="vc_row_inner"){alert("Can't paste vc_row_inner as root element!\n\nYou can only paste it inside a column.");return!1}else if(shortcode_this==""&&sc=="vc_column"){alert("Can't paste vc_column content to root!\n\nYou can only paste it inside a column.");return!1}else if(shortcode_this==""&&sc=="vc_column_inner"){alert("Can't paste vc_column_inner content to root!\n\nYou can only paste it inside a column.");return!1}else if(shortcode_this=="vc_column_inner"&&sc=="vc_column"){alert("Can't paste vc_column content to vc_column_inner!\n\nYou can only paste it inside a column.");return!1}else if(shortcode_this=="vc_column_inner"&&sc=="vc_row_inner"){alert("Can't paste vc_row_inner to vc_column_inner!\n\nYou can only paste it inside a column.");return!1}else if(shortcode_this==""&&sc!="vc_section"&&sc!="vc_row"){alert("Can't paste "+sc+" to root!\n\nYou can only paste it inside a column.");return!1}else if((shortcode_this=="vc_row"||shortcode_this=="vc_row_inner")&&(sc=="vc_column"||sc=="vc_column_inner")){alert("Can't paste  "+sc+"  content after "+shortcode_this+"!\n\nYou can only paste it inside a column.");return!1}
return!0};var v=function(e,t,o){parent_id=!1;if(e!=null){id_this=e.attr("data-model-id");model_this=window.vc.app.views[id_this].model;shortcode_this=model_this.get("shortcode")}else{shortcode_this=""}
if(shortcode_this!="vc_row"&&shortcode_this!="vc_section"){parent_id=c(e).closest('div[data-element_type="vc_column_inner"], div[data-element_type="vc_column"]').attr("data-model-id")}
if(e!=null&&shortcode_this!="vc_column"&&shortcode_this!="vc_column_inner"){vc.clone_index=vc.clone_index/10;if(o===-1)o=c(e).closest('div[data-element_type="'+shortcode_this+'"]').attr("data-model-id");model=window.vc.app.views[o].model;new_order=parseFloat(model.get("order"))+vc.clone_index}else{new_order=-1}
sc=localStorage.getItem("pt_plus_element_sc"+t);if(sc=="vc_row"){if(shortcode_this=="vc_section"){parent_id=id_this}else{var i=c(e).closest('div[data-element_type="vc_section"]').attr("data-model-id");if(i!==undefined){parent_id=i}}}
var a=!1;if((shortcode_this=="vc_column"||shortcode_this=="vc_column_inner")&&(sc=="vc_column"||sc=="vc_column_inner")){row_id=parent_id;a=!0}else{params=JSON.parse(localStorage.getItem("pt_plus_element_params"+t));row_id=vc_guid();if(new_order==-1){window.vc.shortcodes.create({shortcode:sc,id:row_id,parent_id:parent_id,cloned:!1,params:params})}else{window.vc.shortcodes.create({shortcode:sc,id:row_id,parent_id:parent_id,order:new_order,cloned:!1,params:params})}
window.pt_plus_current_count++;if(sc!="vc_row"&&sc!="vc_column"&&sc!="vc_column_inner"&&sc!="vc_row_inner"){_.each(window.vc.shortcodes.where({parent_id:row_id}),function(e){window.vc.app.views[e.id].model.destroy();if(e.attributes.shortcode=="vc_tab"){c("[data-model-id="+row_id+"] [href=#tab-"+e.attributes.params.tab_id+"]").parent().remove()}})}}
pt_plus_elements=JSON.parse(localStorage.getItem("pt_plus_elements"+t));uid=(new Date).getTime()+t;_.each(pt_plus_elements,function(c){c.id=c.id+uid;if(c.parent_id==0){c.parent_id=row_id}else{c.parent_id=c.parent_id+uid}});_.each(pt_plus_elements,function(e){params=JSON.parse(e.params);if(params.tab_id!=undefined){params.tab_id=params.tab_id+uid}
if(a){new_sc=window.vc.shortcodes.create({shortcode:e.sc,id:e.id,parent_id:e.parent_id,cloned:!1,params:params})}else{new_sc=window.vc.shortcodes.create({shortcode:e.sc,id:e.id,parent_id:e.parent_id,order:e.order,cloned:!1,params:params})}
_.each(window.vc.shortcodes.where({parent_id:e.id}),function(e){window.vc.app.views[e.id].model.destroy();if(e.attributes.shortcode=="vc_tab"){c("[data-model-id="+row_id+"] [href=#tab-"+e.attributes.params.tab_id+"]").parent().remove()}});window.pt_plus_current_count++});c("ul.tabs_controls").each(function(){c(this).prependTo(c(this).parent())});return row_id}})(jQuery)