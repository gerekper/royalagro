"use strict";jQuery(function(c){var t;function r(){var r=0;c("table.wc-product-retailers tbody tr").each(function(t,e){c("input",e).each(function(t,e){e=c(e);e.attr("name",e.attr("name").replace(/\[([^[]*)\]/,"["+r+"]"))}),r++})}c().select2&&(t={minimumInputLength:3,ajax:{url:ajaxurl,delay:250,data:function(t){return{term:t.term,action:"wc_product_retailers_search_retailers",security:wc_product_retailers_admin_params.search_retailers_nonce}},processResults:function(t){return t=t,e=[],r=c('table.wc-product-retailers tr.wc-product-retailer input[type="text"]').map(function(){return c(this).data("post-id")}).get(),t&&c.each(t,function(){-1===c.inArray(this.id,r)&&e.push({id:this.id,text:this.name})}),{results:e};var e,r},cache:!0}},c("select.wc-retailers-search").select2(t).addClass("enhanced")),c("button.wc-product-retailers-add-retailer").click(function(){var e=c("input.wc-retailers-search, select.wc-retailers-search"),t=e.val();t&&(c.isArray(t)||(t=t.split(",")),c(t).each(function(){c("input#wc-product-retailer-product-url-"+this).length||c.get(ajaxurl,{action:"wc_product_retailers_search_retailers",security:wc_product_retailers_admin_params.search_retailers_nonce,term:this},function(t){t.length&&(c("table.wc-product-retailers > tbody").append('<tr class="wc-product-retailer"><td class="check-column"><input type="checkbox" name="select" /><input type="hidden" name="_wc_product_retailer_id['+c("table.wc-product-retailers tbody tr").length+']" value="'+t[0].id+'" /></td><td class="wc-product-retailer-name">'+t[0].name+'</td><td class="wc-product-retailer-product-price"><input type="text" data-post-id="'+t[0].id+'" id="wc-product-retailer-product-price-'+t[0].id+'" name="_wc_product_retailer_product_price['+c("table.wc-product-retailers tbody tr").length+']" /></td><td class="wc-product-retailer-product-url"><input type="text" data-post-id="'+t[0].id+'" id="wc-product-retailer-product-url-'+t[0].id+'" name="_wc_product_retailer_product_url['+c("table.wc-product-retailers tbody tr").length+']" value="'+t[0].product_url+'" /></td></tr>'),e.val(null).trigger("change"))})}),r())}),c("button.wc-product-retailers-delete-retailer").click(function(){c("table.wc-product-retailers td.check-column input:checked").each(function(){c(this).closest("tr.wc-product-retailer").fadeOut("400",function(){c(this).remove()})}),r()}),c("table.wc-product-retailers tbody").sortable({items:"tr",cursor:"move",axis:"y",handle:"td",scrollSensitivity:40,start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.removeAttr("style"),r()}})});