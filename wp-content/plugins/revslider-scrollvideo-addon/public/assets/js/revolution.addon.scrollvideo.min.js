/**
 * @preserve
 * @name REVOLUTION 6.3+ EXTENSION - VIDEO SCROLL
 * @version: 2.0.4 (23.02.2021)
 * @requires jquery.themepunch.revolution.js
 * @author ThemePunch
 */
!function(o){var e;window.RevSliderScrollvideo=function(o,i){void 0!==(e=jQuery.fn.revolution)&&void 0!==o&&void 0!==o[0].id?l(o[0].id,i):o.one("revolution.slide.onloaded",(function(){void 0!==(e=jQuery.fn.revolution)&&void 0!==o&&void 0!==o[0].id&&l(o[0].id,i)}))};var l=function(o,c){e[o].scrollvideo=void 0===e[o].scrollvideo?{params:c}:e[o].scrollvideo,e[o].initEnded?(e[o].scrollvideo.video=function(o){var l;if(void 0!==e[o].layers)for(var i in e[o].layers.static)e[o].layers.static.hasOwnProperty(i)&&void 0===l&&i.indexOf("scrollvideo")>=0&&(l={index:i,layer:e[o].layers.static[i]});return l}(o),void 0!==e[o].scrollvideo.video?void 0!==e[o].scrollvideo.params&&function(o){1==e[o].slayers.length&&-1===e[o].slayers[0].className.indexOf("rs-stl-back")&&(e[o].slayers[0].className+=" rs-stl-back");e[o].scrollvideo.range={first:1,last:e[o].scrollvideo.params.last},e[o].scrollvideo.range.len=e[o].scrollvideo.range.last-e[o].scrollvideo.range.first,e[o].scrollvideo.loadedImageAmount=0,e[o].scrollvideo.currentLoadingImageAmount=0,e[o].scrollvideo.loadPrioList=[],e[o].scrollvideo.frames={},e[o].scrollvideo.imgs=[],e[o].scrollvideo.canvas=document.createElement("canvas"),e[o].scrollvideo.canvas.style.width="100%",e[o].scrollvideo.canvas.style.height="100%",e[o].scrollvideo.ctx=e[o].scrollvideo.canvas.getContext("2d"),e[o].scrollvideo.video.layer.appendChild(e[o].scrollvideo.canvas),e[o].scrollvideo.params.winoffset=void 0===e[o].scrollvideo.params.winoffset?"0%":e[o].scrollvideo.params.winoffset,e[o].scrollvideo.params.winoffsetend=void 0===e[o].scrollvideo.params.winoffsetend?"50%":e[o].scrollvideo.params.winoffsetend,e[o].scrollvideo.params.winoffset_type=(""+e[o].scrollvideo.params.winoffset).indexOf("%")>=0?"%":"px",e[o].scrollvideo.params.winoffsetend_type=(""+e[o].scrollvideo.params.winoffsetend).indexOf("%")>=0?"%":"px",e[o].scrollvideo.params.winoffset=parseInt(e[o].scrollvideo.params.winoffset,0)/("%"===e[o].scrollvideo.params.winoffset_type?100:1),e[o].scrollvideo.params.winoffsetend=parseInt(e[o].scrollvideo.params.winoffsetend,0)/("%"===e[o].scrollvideo.params.winoffsetend_type?100:1),e[o].scrollvideo.params.ver=void 0===e[o].scrollvideo.params.ver?"6.3.0":e[o].scrollvideo.params.ver,a(o),e[o].scrollvideo.framesource=void 0===e[o].scrollvideo.params.dir&&void 0!==e[o].scrollvideo.params.mp4?"video":"images",window.addEventListener("resize",(function(){clearTimeout(e[o].scrollvideo.resizetimer),e[o].scrollvideo.resizetimer=setTimeout((function(){a(o),d(o,void 0,!0)}),100)})),e[o].c.on("timeline_scroll_processed",(function(l,i){var r="%"===e[o].scrollvideo.params.winoffset_type?e.lastwindowheight*e[o].scrollvideo.params.winoffset:e[o].scrollvideo.params.winoffset,s="%"===e[o].scrollvideo.params.winoffset_type?e.lastwindowheight*e[o].scrollvideo.params.winoffsetend:e[o].scrollvideo.params.winoffsetend,a=0-(e[o].scrollProgBasics.top-r),c=e[o].scrollProgBasics.height+e.lastwindowheight-(e.lastwindowheight+s),t=Math.min(1,Math.max(0,a/c)),v=Math.round(e[o].scrollvideo.range.len*t)+e[o].scrollvideo.range.first;d(o,v)})),function o(l){if(e[l].scrollvideo.loadedImageAmount<e[l].scrollvideo.range.len){if(e[l].scrollvideo.currentLoadingImageAmount<10&&e[l].scrollvideo.loadPrioList.length>0){var a=e[l].scrollvideo.loadPrioList.shift();e[l].scrollvideo.frames[a]=void 0===e[l].scrollvideo.frames[a]?{status:"empty",img:new Image,src:e[l].scrollvideo.params.dir+"/"+r(a,e[l].scrollvideo.params.fps,10*parseFloat(e[l].scrollvideo.params.quality))+"?ver="+e[l].scrollvideo.params.ver}:e[l].scrollvideo.frames[a],("video"===e[l].scrollvideo.framesource&&void 0!==e[l].scrollvideo.imgs[a]||"images"===e[l].scrollvideo.framesource&&void 0!==e[l].scrollvideo.frames[a])&&(i(l,"show"),e[l].scrollvideo.params.scroll&&!0!==e[l].scrollvideo.blockScroll&&e[l].fixedScrollOnState&&(e[l].scrollvideo.blockScroll=!0,window.addEventListener("wheel",s,{passive:!1})),"empty"===e[l].scrollvideo.frames[a].status&&(e[l].scrollvideo.frames[a].img.onload=function(){e[l].scrollvideo.frames[a].status="loaded",e[l].scrollvideo.frames[a].ratio=e[l].scrollvideo.frames[a].img.naturalHeight/e[l].scrollvideo.frames[a].img.naturalWidth,e[l].scrollvideo.frames[a].width=e[l].scrollvideo.frames[a].img.naturalWidth,e[l].scrollvideo.frames[a].height=e[l].scrollvideo.frames[a].img.naturalHeight,d(l),e[l].scrollvideo.currentLoadingImageAmount--,e[l].scrollvideo.loadedImageAmount++,o(l)},"images"===e[l].scrollvideo.framesource?e[l].scrollvideo.frames[a].img.src=e[l].scrollvideo.frames[a].src:e[l].scrollvideo.frames[a].img.src=e[l].scrollvideo.imgs[a],e[l].scrollvideo.currentLoadingImageAmount++))}setTimeout((function(){o(l)}),50)}else i(l,"hide"),e[l].scrollvideo.params.scroll&&!0===e[l].scrollvideo.blockScroll&&(e[l].scrollvideo.blockScroll=!1,window.removeEventListener("wheel",s,{passive:!1}))}(o),d(o,1)}(o):setTimeout((function(){l(o)}),100)):setTimeout((function(){l(o)}),100)};function i(o,l){e[o].scrollvideo.params.spinner&&window.requestAnimationFrame((function(){"show"===l&&!0!==e[o].loaderVisible&&void 0!==e[o].loader&&null!==e[o].loader[0]?(e[o].loader[0].style.display="block",e[o].loaderVisible=!0):"hide"===l&&!0===e[o].loaderVisible&&void 0!==e[o].loader&&null!==e[o].loader[0]&&(e[o].loader[0].style.display="none",e[o].loaderVisible=!1)}))}function r(o,e,l){return e=""+e,l=""+l,o=(o=1==(o=""+o).length?"00"+o:2==o.length?"0"+o:o)+"_f"+(e=1==e.length?"0"+e:e)+"_q"+(l=1==l.length?"0"+l:l)+".jpg"}function s(o){o.preventDefault()}function d(o,l,i){void 0!==l?e[o].scrollvideo.requestedFrame=l:l=e[o].scrollvideo.requestedFrame,void 0===e[o].scrollvideo.frames[l]?function(o,l){e[o].scrollvideo.loadPrioList=[],e[o].scrollvideo.loadPrioList.push(l);for(var i=l;i>1&&e[o].scrollvideo.loadPrioList.length<10;)i--,void 0===e[o].scrollvideo.frames[i]&&e[o].scrollvideo.loadPrioList.push(i);for(i=l;i<e[o].scrollvideo.range.last&&e[o].scrollvideo.loadPrioList.length<25;)i++,void 0===e[o].scrollvideo.frames[i]&&e[o].scrollvideo.loadPrioList.push(i);for(var r=e[o].scrollvideo.range.first;r<=e[o].scrollvideo.range.last;r++)void 0===e[o].scrollvideo.frames[r]&&-1==jQuery.inArray(r,e[o].scrollvideo.loadPrioList)&&e[o].scrollvideo.loadPrioList.push(r)}(o,l):"loaded"!==e[o].scrollvideo.frames[l].status||e[o].scrollvideo.lastShownFrame===l&&!i||(e[o].scrollvideo.lastShownFrame=l,function(o,l,i,r){var s=e[o].module.height/e[o].module.width;if(i<=s&&"contain"===r||(o=>s&&"cover"===r)){var d=e[o].module.width*i;e[o].scrollvideo.ctx.drawImage(l,0,(e[o].module.height-d)/2,e[o].module.width,d)}if(i>s&&"contain"===r||i<s&&"cover"===r){var a=e[o].module.width*s/i;e[o].scrollvideo.ctx.drawImage(l,(e[o].module.width-a)/2,0,a,e[o].module.height)}}(o,e[o].scrollvideo.frames[l].img,e[o].scrollvideo.frames[l].ratio,"cover"))}function a(o){e[o].scrollvideo.canvas.width=e[o].module.width,e[o].scrollvideo.canvas.height=e[o].module.height}}(jQuery);