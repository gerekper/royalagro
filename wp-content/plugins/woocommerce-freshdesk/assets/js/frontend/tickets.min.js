!function(c){"use strict";c(function(){var o=c("#wc-freshdesk-ticket-form");o.on("submit",function(e){var r;e.preventDefault(),(r=woocommerce_freshdesk_params.processing)&&c.blockUI({message:r,baseZ:99999,overlayCSS:{background:"#fff",opacity:.6},css:{padding:"20px",zindex:"9999999",textAlign:"center",color:"#555",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait",lineHeight:"24px"}});var s={action:"wc_freshdesk_process_tickets",security:woocommerce_freshdesk_params.security};c(".ticket-field").each(function(){var e=c(this),r=e.attr("name").replace("-","_").replace("ticket_",""),o=e.val();s[r]=o}),c.ajax({type:"POST",url:woocommerce_freshdesk_params.ajax_url,cache:!1,dataType:"json",data:s,success:function(e){if(c.unblockUI(),null!==e&&1===e.status)o.empty().prepend('<div class="woocommerce-message">'+woocommerce_freshdesk_params.success+"</div>");else{var r=woocommerce_freshdesk_params.error;null!==e&&null!==e.message&&""!==e.message&&(r=e.message),c(".woocommerce-error",o).remove(),o.prepend('<div class="woocommerce-error">'+r+"</div>")}},error:function(){c.unblockUI(),c(".woocommerce-error",o).remove(),o.prepend('<div class="woocommerce-error">'+woocommerce_freshdesk_params.error+"</div>")}})})})}(jQuery);
