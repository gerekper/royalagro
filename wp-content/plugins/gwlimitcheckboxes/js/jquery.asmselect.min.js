!function(u){u.fn.asmSelect=function(e){var C={listType:"ol",sortable:!1,highlight:!1,animate:!1,addItemTarget:"bottom",hideWhenAdded:!1,debugMode:!1,removeLabel:"remove",highlightAddedLabel:"Added: ",highlightRemovedLabel:"Removed: ",containerClass:"asmContainer",selectClass:"asmSelect",optionDisabledClass:"asmOptionDisabled",listClass:"asmList",listSortableClass:"asmListSortable",listItemClass:"asmListItem",listItemLabelClass:"asmListItemLabel",removeClass:"asmListItemRemove",highlightClass:"asmHighlight"};return u.extend(C,e),this.each(function(s){var e,n,r,o=u(this),d=!1,i=!1,a=!1;function t(e){if(!(u.browser.msie&&u.browser.version<7)||i){var t=u(this).children("option:selected").slice(0,1).attr("rel");g(t),i=!1,v(t,"add")}}function l(){i=!0}function h(e){a?a=!1:(n.empty(),r.empty(),c(),u.browser.opera&&r.hide().fadeIn("fast"))}function c(){d=!0,n.prepend("<option>"+o.attr("title")+"</option>"),o.children("option").each(function(e){var t,i=u(this);i.attr("id")||i.attr("id","asm"+s+"option"+e),t=i.attr("id"),i.is(":selected")?(g(t),m(t,!0)):m(t)}),C.debugMode||o.hide(),p(),d=!1}function m(e,t){if(null==t)t=!1;var i=u("#"+e),s=u("<option>"+i.text()+"</option>").val(i.val()).attr("rel",e);t&&f(s),n.append(s)}function p(){n.children(":eq(0)").attr("selected",!0)}function f(e){e.addClass(C.optionDisabledClass).attr("selected",!1).attr("disabled",!0),C.hideWhenAdded&&e.hide(),u.browser.msie&&n.hide().show()}function g(e){var t=u("#"+e);if(t){var i,s=u("<a></a>").attr("href","#").addClass(C.removeClass).prepend(C.removeLabel).click(function(){return function(e,t){if(null==t)var t=!0;u("#"+e).attr("selected",!1),$item=r.children("li[rel="+e+"]"),s=$item,C.animate&&!d?($prevItem=s.prev("li"),s.animate({opacity:"hide",height:"hide"},100,"linear",function(){$prevItem.animate({height:"-=2px"},50,"swing",function(){$prevItem.animate({height:"+=2px"},100,"swing")}),s.remove()})):s.remove(),i=u("[rel="+e+"]",C.removeWhenAdded?$selectRemoved:n),i.removeClass(C.optionDisabledClass).attr("disabled",!1),C.hideWhenAdded&&i.show(),u.browser.msie&&n.hide().show(),t&&b($item,C.highlightRemovedLabel);var i;var s;v(e,"drop")}(u(this).parent("li").attr("rel")),!1}),a=u("<span></span>").addClass(C.listItemLabelClass).html(t.html()),l=u("<li></li>").attr("rel",e).addClass(C.listItemClass).append(a).append(s).hide();if(!d){if(t.is(":selected"))return;t.attr("selected",!0)}"top"!=C.addItemTarget||d?(r.append(l),C.sortable&&o.append(t)):(r.prepend(l),C.sortable&&o.prepend(t)),i=l,C.animate&&!d?i.animate({opacity:"show",height:"show"},100,"swing",function(){i.animate({height:"+=2px"},50,"swing",function(){i.animate({height:"-=2px"},25,"swing")})}):i.show(),f(u("[rel="+e+"]",n)),d||(b(l,C.highlightAddedLabel),p(),C.sortable&&r.sortable("refresh"))}}function b(e,t){if(C.highlight){n.next("#"+C.highlightClass+s).remove();var i=u("<span></span>").hide().addClass(C.highlightClass).attr("id",C.highlightClass+s).html(t+e.children("."+C.listItemLabelClass).slice(0,1).text());n.after(i),i.fadeIn("fast",function(){setTimeout(function(){i.fadeOut("slow")},50)})}}function v(e,t){a=!0,$option=u("#"+e),o.trigger("change",[{option:$option,value:$option.val(),id:e,item:r.children("[rel="+e+"]"),type:t}])}!function(){for(;0<u("#"+C.containerClass+s).size();)s++;n=u("<select></select>").addClass(C.selectClass).attr("name",C.selectClass+s).attr("id",C.selectClass+s),$selectRemoved=u("<select></select>"),r=u("<"+C.listType+"></"+C.listType+">").addClass(C.listClass).attr("id",C.listClass+s),e=u("<div></div>").addClass(C.containerClass).attr("id",C.containerClass+s),c(),n.change(t).click(l),o.change(h).wrap(e).before(n).before(r),C.sortable&&r.sortable({items:"li."+C.listItemClass,handle:"."+C.listItemLabelClass,axis:"y",update:function(e,t){var i;u(this).children("li").each(function(e){$option=u("#"+u(this).attr("rel")),u(this).is(".ui-sortable-helper")?i=$option.attr("id"):o.append($option)}),i&&v(i,"sort")}}).addClass(C.listSortableClass),u.browser.msie&&u.browser.version<8&&r.css("display","inline-block")}()})}}(jQuery);
//# sourceMappingURL=jquery.asmselect.js.map