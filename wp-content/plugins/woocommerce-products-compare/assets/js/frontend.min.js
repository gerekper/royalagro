jQuery(document).ready(function(d){"use strict";d.wc_products_compare_frontend={getComparedProducts:function(){var o=d.cookie(wc_products_compare_local.cookieName);return!(void 0===o||!o.length)&&o.split(",")},setComparedProducts:function(o){var c=d.wc_products_compare_frontend.getComparedProducts();return!1===c?c=[String(o).trim()]:-1===c.indexOf(o)&&c.push(o),d.cookie.raw=!0,d.cookie(wc_products_compare_local.cookieName,c.toString(),{expires:parseInt(wc_products_compare_local.cookieExpiry,10),path:"/"}),!0},unsetComparedProducts:function(o){var c=d.wc_products_compare_frontend.getComparedProducts();return!1!==c&&-1!==c.indexOf(String(o))&&c.splice(c.indexOf(String(o)),1),d.cookie.raw=!0,d.cookie(wc_products_compare_local.cookieName,c.toString(),{expires:parseInt(wc_products_compare_local.cookieExpiry,10),path:"/"}),!0},widgetAddProduct:function(e){var o={action:"wc_products_compare_add_product_ajax",ajaxAddProductNonce:wc_products_compare_local.ajaxAddProductNonce,product_id:e};d.post(wc_products_compare_local.ajaxurl,o,function(o){if(o.length){var c=d(".woocommerce-products-compare-widget");0==d(c).find('li[data-product-id="'+e+'"]').length&&(d(c).find(".no-products").length?(d(c).find(".no-products").remove(),d(c).find("a.woocommerce-products-compare-widget-compare-button").before("<ul>"+o+'</ul><a href="#" title="'+wc_products_compare_local.widgetRemoveProducts+'" class="woocommerce-products-compare-remove-all-products">'+wc_products_compare_local.widgetRemoveProducts+"</a>")):d(c).find("ul").append(o))}})},widgetReset:function(){d(".woocommerce-products-compare-widget p.no-products").remove(),d(".woocommerce-products-compare-widget ul").remove(),d(".woocommerce-products-compare-widget a.woocommerce-products-compare-widget-compare-button").before('<p class="no-products">'+wc_products_compare_local.widgetNoProducts+"</p>"),d(".woocommerce-products-compare-widget .woocommerce-products-compare-remove-all-products").remove()},widgetRemoveProduct:function(o){d(".woocommerce-products-compare-widget").find('li[data-product-id="'+o+'"]').fadeOut("fast",function(){d(this).remove()}),(!1===d.wc_products_compare_frontend.getComparedProducts()||d.wc_products_compare_frontend.getComparedProducts().length<=0)&&d.wc_products_compare_frontend.widgetReset()},init:function(){d("body").on("click",".woocommerce-products-compare-compare-button input",function(){if(!1!==navigator.cookieEnabled){d(this).parents(".product");var o=d(this).data("product-id");d(this).is(":checked")?d.wc_products_compare_frontend.getComparedProducts().length>=wc_products_compare_local.maxProducts?(alert(wc_products_compare_local.maxAlert),d(this).prop("checked",!1)):(d.wc_products_compare_frontend.setComparedProducts(o),d.wc_products_compare_frontend.widgetAddProduct(o),d("body").trigger("wc_compare_product_checked",o)):(d.wc_products_compare_frontend.unsetComparedProducts(o),d.wc_products_compare_frontend.widgetRemoveProduct(o),d("body").trigger("wc_compare_product_unchecked",o)),d("body").trigger("wc_compare_product_update",o)}else alert(wc_products_compare_local.noCookies)}),d(".woocommerce-products-compare-content").on("click",".remove-compare-product",function(o){o.preventDefault();var c,e=d(this).data("remove-id"),r=d(".woocommerce-products-compare-content thead tr:first-child").find("th, td").length,t=Math.floor(100/r);d(".woocommerce-products-compare-content").find('td[data-product-id="'+e+'"], th[data-product-id="'+e+'"]').fadeOut("fast",function(){d(this).remove()}),d.wc_products_compare_frontend.unsetComparedProducts(e),(!1===d.wc_products_compare_frontend.getComparedProducts()||d.wc_products_compare_frontend.getComparedProducts().length<=0)&&d(".woocommerce-products-compare-content").html(wc_products_compare_local.noProducts),d(".woocommerce-products-compare-content tbody tr, .woocommerce-products-compare-content thead tr").each(function(){c=!0,d(this).find("td").not('[data-product-id="'+e+'"]').each(function(){d(this).html().trim()&&(c=!1)}),c&&d(this).fadeOut("fast",function(){d(this).remove()})}),d(".woocommerce-products-compare-content thead tr:first-child").find("th, td").css("width",t+"%")}),d("body").on("click",".woocommerce-products-compare-compare-link",function(){return 1<d.wc_products_compare_frontend.getComparedProducts().length||(alert(wc_products_compare_local.moreProducts),!1)}),d("body").on("click",".woocommerce-products-compare-widget-compare-button",function(){return 1<d.wc_products_compare_frontend.getComparedProducts().length||(alert(wc_products_compare_local.moreProducts),!1)}),d(".woocommerce-products-compare-widget").on("click",".remove-compare-product",function(o){o.preventDefault();var c=d(this).data("remove-id");d.wc_products_compare_frontend.unsetComparedProducts(c),d.wc_products_compare_frontend.widgetRemoveProduct(c),d('input.woocommerce-products-compare-checkbox[data-product-id="'+c+'"]').prop("checked",!1)}),d(".woocommerce-products-compare-widget").on("click",".woocommerce-products-compare-remove-all-products",function(o){o.preventDefault(),d(".woocommerce-products-compare-widget ul li").each(function(o){var c=d(this).data("product-id");d.wc_products_compare_frontend.unsetComparedProducts(c),d.wc_products_compare_frontend.widgetRemoveProduct(c),d('input.woocommerce-products-compare-checkbox[data-product-id="'+c+'"]').prop("checked",!1)},function(){d.wc_products_compare_frontend.widgetReset()})})}},d.wc_products_compare_frontend.init()});
